--[[
    VARSZZHUB V7 - ESCAPE TSUNAMI FOR BRAINROT
    by: Alvaro
    Key: varszzscript
    Versi: Dengan Menu (Pasti Muncul)
]]

-- Load Library dengan cara berbeda (lebih stabil)
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield', true))()

-- Buat Window
local Window = Rayfield:CreateWindow({
    Name = "üåü VARSZZHUB V7",
    LoadingTitle = "VARSZZHUB V7 Loading...",
    LoadingSubtitle = "by Alvaro",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "VarszzHub",
        FileName = "Settings"
    },
    KeySystem = true,
    KeySettings = {
        Title = "üîê KEY SYSTEM",
        Subtitle = "Masukkan Key",
        Note = "Key: varszzscript",
        FileName = "VarszzKey",
        SaveKey = true,
        Key = {"varszzscript"}
    }
})

-- Notifikasi selamat datang
Rayfield:Notify({
    Title = "‚úÖ VARSZZHUB V7 AKTIF",
    Content = "Selamat datang, " .. game.Players.LocalPlayer.Name,
    Duration = 5
})

-- Variables
local player = game.Players.LocalPlayer
local autoFarm = false
local autoMoney = false
local targetRarities = {
    Secret = true,
    Celestial = true,
    Divine = true
}

-- Fungsi Cek Rarity
local function checkRarity(itemName)
    itemName = itemName:lower()
    
    if targetRarities.Secret and (
        itemName:find("secret") or 
        itemName:find("matteo") or 
        itemName:find("gattatino")
    ) then return true end
    
    if targetRarities.Celestial and (
        itemName:find("celestial") or 
        itemName:find("job job") or 
        itemName:find("bisonte")
    ) then return true end
    
    if targetRarities.Divine and (
        itemName:find("divine") or 
        itemName:find("bulbito") or 
        itemName:find("burgerini")
    ) then return true end
    
    return false
end

-- God Mode Otomatis
spawn(function()
    while true do
        task.wait(0.5)
        pcall(function()
            if player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
                local hum = player.Character:FindFirstChildOfClass("Humanoid")
                hum.Health = hum.MaxHealth
                hum.WalkSpeed = 200
            end
        end)
    end
end)

-- Auto Farm Function
local function farmLoop()
    while autoFarm do
        task.wait(0.1)
        pcall(function()
            for _, obj in pairs(workspace:GetDescendants()) do
                if (obj:IsA("Part") or obj:IsA("Model")) and checkRarity(obj.Name) and player.Character then
                    local pos = obj:IsA("Part") and obj.Position or obj:GetPrimaryPartCFrame().Position
                    player.Character.HumanoidRootPart.CFrame = CFrame.new(pos + Vector3.new(0, 3, 0))
                    task.wait(0.05)
                    if obj:IsA("Part") then
                        obj.CFrame = CFrame.new(9999, 9999, 9999)
                    else
                        obj:SetPrimaryPartCFrame(CFrame.new(9999, 9999, 9999))
                    end
                end
            end
        end)
    end
end

-- Auto Money Function
local function moneyLoop()
    while autoMoney do
        task.wait(2)
        pcall(function()
            local claim = workspace:FindFirstChild("ClaimMoney") or 
                         player.PlayerGui:FindFirstChild("ClaimButton")
            if claim then
                if claim:IsA("TextButton") then
                    claim:Click()
                elseif claim:IsA("Part") and claim:FindFirstChildOfClass("ClickDetector") then
                    fireclickdetector(claim:FindFirstChildOfClass("ClickDetector"))
                end
            end
        end)
    end
end

-- [[ MEMBUAT MENU / TAB ]]

-- Tab MAIN
local MainTab = Window:CreateTab("MAIN", nil)
local MainSection = MainTab:CreateSection("üåæ AUTO FARM")

-- Toggle Auto Farm
MainTab:CreateToggle({
    Name = "Auto Farm Brainrot",
    CurrentValue = false,
    Flag = "AutoFarmToggle",
    Callback = function(value)
        autoFarm = value
        if value then
            spawn(farmLoop)
            Rayfield:Notify({
                Title = "Auto Farm Aktif",
                Content = "Mencari Secret/Celestial/Divine...",
                Duration = 2
            })
        end
    end
})

-- Toggle Auto Money
MainTab:CreateToggle({
    Name = "Auto Collect Money",
    CurrentValue = false,
    Flag = "AutoMoneyToggle",
    Callback = function(value)
        autoMoney = value
        if value then
            spawn(moneyLoop)
        end
    end
})

-- Tab RARITY
local RarityTab = Window:CreateTab("RARITY", nil)
local RaritySection = RarityTab:CreateSection("‚ú® FILTER RARITY")

-- Toggle untuk masing-masing rarity
RarityTab:CreateToggle({
    Name = "Secret Rarity",
    CurrentValue = true,
    Flag = "SecretToggle",
    Callback = function(value)
        targetRarities.Secret = value
    end
})

RarityTab:CreateToggle({
    Name = "Celestial Rarity",
    CurrentValue = true,
    Flag = "CelestialToggle",
    Callback = function(value)
        targetRarities.Celestial = value
    end
})

RarityTab:CreateToggle({
    Name = "Divine Rarity",
    CurrentValue = true,
    Flag = "DivineToggle",
    Callback = function(value)
        targetRarities.Divine = value
    end
})

-- Tab INFO
local InfoTab = Window:CreateTab("INFO", nil)
local InfoSection = InfoTab:CreateSection("üìå SCRIPT INFO")

InfoTab:CreateLabel("üåü VARSZZHUB V7")
InfoTab:CreateLabel("by: Alvaro")
InfoTab:CreateLabel("Game: Escape Tsunami For Brainrot")
InfoTab:CreateLabel("Key: varszzscript")
InfoTab:CreateLabel(" ")
InfoTab:CreateLabel("FITUR:")
InfoTab:CreateLabel("‚úÖ Auto Farm Brainrot")
InfoTab:CreateLabel("‚úÖ Filter Secret/Celestial/Divine")
InfoTab:CreateLabel("‚úÖ Auto Collect Money")
InfoTab:CreateLabel("‚úÖ God Mode + Speed 200")

-- Notifikasi selesai
Rayfield:Notify({
    Title = "‚úÖ SCRIPT SIAP",
    Content = "Menu VARSZZHUB V7 sudah muncul!",
    Duration = 3
})